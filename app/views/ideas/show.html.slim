#idea data-id=@idea.id
  .header
    h1 class=("editable" if @editable) data-attribute="title" data-type="text" data-raw=@idea.title
      = @idea.title
    .category= image_tag @idea.category.badge.url
    .user= t('.user_html', :link => link_to(@idea.user.name, user_path(@idea.user)))
    - if @idea.parent
      .parent= t('.parent_html', :link => link_to(@idea.parent.user.name, idea_path(@idea.parent)))
    .headline
      p class=("editable" if @editable) data-attribute="headline" data-raw=@idea.headline
        = @idea.headline
  .menu
    ul
      li
        a href="#description"
          = t('.menu.description')
      li
        a href="#have"
          = t('.menu.have')
      li
        a href="#need"
          = t('.menu.need')
  .content
    .description
      .text class=("editable" if @editable) data-attribute="description" data-raw=@idea.description data-raw-attribute="description_html"
        == @idea.description_html
      .info
        - if current_user and current_user == @idea.user
          .placeholder= t('.placeholders.description')
          = render 'formatting_tips'
        .comments= render :partial => 'shared/comments', :locals => { :url => "#{idea_url(@idea)}#description" }
    .have
      .text class=("editable" if @editable) data-attribute="have" data-raw=@idea.have data-raw-attribute="have_html"
        == @idea.have_html
      .info
        - if current_user and current_user == @idea.user
          .placeholder= t('.placeholders.have')
          = render 'formatting_tips'
        .comments= render :partial => 'shared/comments', :locals => { :url => "#{idea_url(@idea)}#have" }
    .need
      .text class=("editable" if @editable) data-attribute="need" data-raw=@idea.need data-raw-attribute="need_html"
        == @idea.need_html
      .info
        - if current_user and current_user == @idea.user
          .placeholder= t('.placeholders.need')
          = render 'formatting_tips'
        .comments= render :partial => 'shared/comments', :locals => { :url => "#{idea_url(@idea)}#need" }
= render 'shared/application_js'
= javascript_include_tag 'views/ideas/show'
= javascript_include_tag 'controllers/idea'
javascript:
  app.showIdeaView = new ShowIdeaView
  app.ideaController = new IdeaController
  Backbone.history.start()
